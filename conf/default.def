// This file shows definitions of all components and properties in Gorox, with their default values.

stage {
	.logFile = %logsDir + "/worker.log"
	.cpuFile = %tempDir + "/cpu.prof"
	.hepFile = %tempDir + "/hep.prof"
	.thrFile = %tempDir + "/thr.prof"
	.grtFile = %tempDir + "/grt.prof"
	.blkFile = %tempDir + "/blk.prof"

	// fixtures
	clock {
	}
	fcache {
		.smallFileSize = 65535
		.maxSmallFiles = 1000
		.maxLargeFiles = 500
		.cacheTimeout  = 1s
	}
	resolver {
	}
	http1Outgate {
	}
	http2Outgate {
	}
	http3Outgate {
	}
	hwebOutgate {
	}
	quicOutgate {
	}
	tcpsOutgate {
	}
	udpsOutgate {
	}

	// unitures
	demoUniture {
	}

	// backends
	http1Backend "h1b" {
	}
	http2Backend "h2b" {
	}
	http3Backend "h3b" {
	}
	quicBackend "qb" {
	}
	tcpsBackend "tb" {
	}
	udpsBackend "ub" {
	}

	// meshers
	quicMesher "qm" {
		.address         = string,required
		.tlsMode         = false
		.readTimeout     = 60s
		.writeTimeout    = 60s
		.numGates        = runtime.NumCPU()
		.maxConnsPerGate = 100000
		// cases
	}
	tcpsMesher "tm" {
		.address         = string,required
		.tlsMode         = false
		.readTimeout     = 60s
		.writeTimeout    = 60s
		.numGates        = runtime.NumCPU()
		.maxConnsPerGate = 100000
		// cases
	}
	udpsMesher "um" {
		.address         = string,required
		.tlsMode         = false
		.readTimeout     = 60s
		.writeTimeout    = 60s
		.numGates        = runtime.NumCPU()
		.maxConnsPerGate = 100000
		// cases
	}

	// staters
	localStater "ls" {
	}
	redisStater "rs" {
	}

	// cachers
	localCacher "lc" {
	}
	redisCacher "rc" {
	}

	// apps
	app "a" {
		.hostnames            = ("*")
		.webRoot              = ""
		.file404              = ""
		.tlsCertificate       = ""
		.tlsPrivateKey        = ""
		.accessLog            = ()
		.logFormat            = ""
		.maxMemoryContentSize = 16M
		.maxUploadContentSize = 128M
		.settings             = []
		.proxyOnly            = false
		.withStater           = ""

		// handlets
		accessChecker "ah" {
		}
		hostnameChecker "hh" {
		}
		httpsChecker "hh" {
		}
		limitChecker "lh" {
		}
		refererChecker "rh" {
		}
		rewriter "rh" {
		}
		ajpAgent "ah" {
		}
		favicon "fh" {
		}
		fcgiAgent "fh" {
		}
		http1Proxy "hh" {
		}
		http2Proxy "hh" {
		}
		http3Proxy "hh" {
		}
		sitex "sh" {
		}
		static "sh" {
		}
		uwsgiAgent "uh" {
		}
		webdavHandlet "wh" {
		}

		// revisers
		gzipReviser "gr" {
		}
		headReviser "hr" {
		}
		replaceReviser "rr" {
		}
		ssiReviser "sr" {
		}
		wrapReviser "wr" {
		}

		// socklets
		helloSocklet "hs" {
		}
		sock1Proxy "s1p" {
		}
		sock2Proxy "s2p" {
		}
		sock3Proxy "s3p" {
		}

		// rules
		rule "r1" condition {
		}
	}

	// svcs
	svc "s" {
	}

	// servers
	echoServer "es" {
	}
	http3Server "h3s" {
	}
	httpxServer "hxs" {
		.address         = string,required
		.tlsMode         = false
		.readTimeout     = 60s
		.writeTimeout    = 60s
		.numGates        = runtime.NumCPU()
		.maxConnsPerGate = 100000
		.forApps         = ()
		.enableTCPTun    = false
		.enableUDPTun    = false
		.maxContentSize  = 1T
		.recvTimeout     = 120s
		.sendTimeout     = 120s
		.forceScheme     = ""
		.adjustScheme    = true
		.enableHTTP2     = false
		.h2cMode         = false
	}
	socksServer "ss" {
	}

	// cronjobs
	cleanCronjob {
	}
	statCronjob {
	}
}
